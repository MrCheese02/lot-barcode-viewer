{"version":3,"sources":["components/GS1DataElement/GS1DataElement.js","index.js"],"names":["GS1DataElement","onCopy","content","console","log","props","this","text","copyContent","className","align","React","Component","App","onInput","e","setState","barcode","target","value","keydownHandler","now","Date","state","lastCharReceived","inProgressBarcode","which","newChar","String","fromCharCode","copyToClipboard","navigator","clipboard","writeText","window","addEventListener","removeEventListener","items","gtin","expiry","expiryStr","lot","gs1","parseBarcode","parsedCodeItems","map","i","ai","find","data","getDate","slice","getMonth","getFullYear","name","href","rel","createRoot","document","getElementById","render"],"mappings":"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","file":"static/js/main.fb58e899.chunk.js","sourcesContent":["import React from \"react\";\r\nimport CopyToClipboard from \"react-copy-to-clipboard\";\r\nimport \"./GS1DataElement.css\";\r\n\r\nclass GS1DataElement extends React.Component {\r\n  onCopy = (content) => {\r\n    console.log('copying: \"' + content + '\"');\r\n    if (this.props.onCopy != null) {\r\n      this.props.onCopy(content);\r\n    }\r\n  };\r\n\r\n  render() {\r\n    if (this.props.content == null) {\r\n      return null;\r\n    }\r\n\r\n    return (\r\n      <CopyToClipboard\r\n        text={\r\n          this.props.copyContent == null\r\n            ? this.props.copyContent\r\n            : this.props.content\r\n        }\r\n        onCopy={this.onCopy}\r\n        className=\"gs1-data-element\"\r\n      >\r\n        <td align=\"center\">{this.props.content}</td>\r\n      </CopyToClipboard>\r\n    );\r\n  }\r\n}\r\n\r\nexport { GS1DataElement };\r\n","import { createRoot } from \"react-dom/client\";\nimport React from \"react\";\nimport gs1 from \"gs1-barcode-parser-mod2\";\nimport { GS1DataElement } from \"./components/GS1DataElement/GS1DataElement\";\nimport \"./index.css\";\n\nclass App extends React.Component {\n  constructor() {\n    super();\n    this.state = {\n      barcode: \"]C1010503238450574617230301103609085\",\n      inProgressBarcode: \"\"\n    };\n  }\n\n  onInput = (e) => {\n    this.setState({ barcode: e.target.value });\n  };\n\n  keydownHandler = (e) => {\n    //e.preventDefault();\n    // check if it was normal keyboard input (> 10 ms)\n    const now = Date.now();\n    if (\n      this.state.lastCharReceived != null &&\n      now - this.state.lastCharReceived > 50\n    ) {\n      console.log(\"was user input --> resetting!\");\n      this.setState({ inProgressBarcode: \"\", lastCharReceived: now });\n    }\n    this.setState({ lastCharReceived: now });\n\n    // last char is a tab (9)\n    console.log(\"CharCode: \" + e.which);\n    console.log(\"inProgressBarcode: \" + this.state.inProgressBarcode);\n    if (e.which === 9) {\n      console.log(\"detected tab\");\n      this.setState({\n        inProgressBarcode: \"\",\n        barcode: this.state.inProgressBarcode\n      });\n      return;\n    }\n\n    const newChar = String.fromCharCode(e.which);\n    console.log(\"Char: \" + newChar);\n\n    this.setState({\n      inProgressBarcode: this.state.inProgressBarcode + newChar\n    });\n    // remove ctrl codes\n    if (this.state.inProgressBarcode === \"\\x11\\x12\\x39\\x10\") {\n      this.setState({\n        inProgressBarcode: \"]\"\n      });\n    }\n  };\n\n  copyToClipboard = (content) => {\n    console.log(\"copying: \" + content);\n    navigator.clipboard.writeText(content);\n  };\n\n  componentDidMount() {\n    window.addEventListener(\"keydown\", this.keydownHandler);\n  }\n\n  componentWillUnmount() {\n    window.removeEventListener(\"keydown\", this.keydownHandler);\n  }\n\n  render() {\n    let items, gtin, expiry, expiryStr, lot;\n    try {\n      items = gs1.parseBarcode(this.state.barcode).parsedCodeItems;\n      console.log(\"barcode ais: \" + items.map((i) => i.ai));\n      gtin = items.find((i) => i.ai === \"01\").data;\n      expiry = items.find((i) => i.ai === \"17\").data;\n      expiryStr =\n        (\"0\" + expiry.getDate()).slice(-2) +\n        \".\" +\n        (\"0\" + (expiry.getMonth() + 1)).slice(-2) +\n        \".\" +\n        expiry.getFullYear();\n      lot = items.find((i) => i.ai === \"10\").data;\n    } catch (e) {\n      console.log(\"parseBarcode error for \" + this.state.barcode + \": \" + e);\n    }\n\n    return (\n      <div>\n        <h1>Barcode</h1>\n        <h2>{this.state.barcode}</h2>\n        <table className=\"dataTable\" align=\"center\">\n          <thead>\n            <tr>\n              {lot != null ? <th>Lot/Charge</th> : null}\n              {expiry != null ? <th>Ablaufdatum</th> : null}\n              {gtin != null ? <th>GTIN</th> : null}\n            </tr>\n          </thead>\n          <tbody>\n            <tr>\n              <GS1DataElement name=\"Lot/Charge\" content={lot} />\n              <GS1DataElement name=\"Ablaufdatum\" content={expiryStr} />\n              <GS1DataElement name=\"GTIN\" content={gtin} />\n            </tr>\n          </tbody>\n        </table>\n        {lot != null ? (\n          <div>\n            <h2>Zertifikate:</h2>\n            <ul>\n              <li>\n                <a\n                  href={\n                    \"https://www.thermofisher.com/search/results?query=\" +\n                    lot +\n                    \"&persona=DocSupport&refinementAction=true&filter=document.result_type_s%3ACertificates\"\n                  }\n                  target=\"_blank\"\n                  rel=\"noopener noreferrer\"\n                >\n                  Thermo Fisher\n                </a>\n              </li>\n              <li>\n                <a\n                  href={\n                    \"https://resourcecenter.biomerieux.com/search/\" +\n                    lot +\n                    \"?searchMode=lotNumber\"\n                  }\n                  target=\"_blank\"\n                  rel=\"noopener noreferrer\"\n                >\n                  Biomerieux\n                </a>\n              </li>\n            </ul>\n          </div>\n        ) : null}\n        <footer>Made by Zivi for Zivi :)</footer>\n      </div>\n    );\n  }\n}\n\nconst root = createRoot(document.getElementById(\"container\"));\nroot.render(<App />);\n"],"sourceRoot":""}
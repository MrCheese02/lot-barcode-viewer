{"version":3,"sources":["components/GS1DataElement/GS1DataElement.js","index.js"],"names":["GS1DataElement","onCopy","content","console","log","props","this","text","copyContent","className","align","React","Component","App","onBarcodeInput","e","setState","inProgressBarcode","target","value","keydownHandler","barcodeInputRef","current","focus","which","barcode","state","isInvalidBarcode","preventDefault","copyToClipboard","navigator","clipboard","writeText","createRef","window","addEventListener","removeEventListener","items","gtin","expiry","expiryStr","lot","gs1","parseBarcode","parsedCodeItems","map","i","ai","find","data","getDate","slice","getMonth","getFullYear","id","autoFocus","onChange","ref","name","href","rel","createRoot","document","getElementById","render"],"mappings":"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","file":"static/js/main.a77927dd.chunk.js","sourcesContent":["import React from \"react\";\r\nimport CopyToClipboard from \"react-copy-to-clipboard\";\r\nimport \"./GS1DataElement.css\";\r\n\r\nclass GS1DataElement extends React.Component {\r\n  onCopy = (content) => {\r\n    console.log('copying: \"' + content + '\"');\r\n    if (this.props.onCopy != null) {\r\n      this.props.onCopy(content);\r\n    }\r\n  };\r\n\r\n  render() {\r\n    if (this.props.content == null) {\r\n      return null;\r\n    }\r\n\r\n    return (\r\n      <CopyToClipboard\r\n        text={\r\n          this.props.copyContent ?? this.props.content\r\n        }\r\n        onCopy={this.onCopy}\r\n        className=\"gs1-data-element\"\r\n      >\r\n        <td align=\"center\">{this.props.content}</td>\r\n      </CopyToClipboard>\r\n    );\r\n  }\r\n}\r\n\r\nexport { GS1DataElement };\r\n","import { createRoot } from \"react-dom/client\";\nimport React from \"react\";\nimport gs1 from \"gs1-barcode-parser-mod2\";\nimport { GS1DataElement } from \"./components/GS1DataElement/GS1DataElement\";\nimport \"./index.css\";\n\nclass App extends React.Component {\n  constructor() {\n    super();\n    this.state = {\n      barcode: \"]C1010503238450574617230301103609085\",\n      inProgressBarcode: \"\",\n      isInvalidBarcode: false,\n    };\n    this.barcodeInputRef = React.createRef(\"barcodeInput\");\n  }\n\n  onBarcodeInput = (e) => {\n    this.setState({ inProgressBarcode: e.target.value });\n  };\n\n  keydownHandler = (e) => {\n    // auto focus barcode field on input\n    this.barcodeInputRef.current.focus();\n\n    // set new barcode and clear field on tab\n    if (e.which === 9) {\n      console.log(\"detected tab\");\n      this.setState({\n        inProgressBarcode: \"\",\n        barcode: this.state.inProgressBarcode,\n        isInvalidBarcode: false,\n      });\n      e.preventDefault();\n    }\n  };\n\n  copyToClipboard = (content) => {\n    console.log(\"copying: \" + content);\n    navigator.clipboard.writeText(content);\n  };\n\n  componentDidMount() {\n    window.addEventListener(\"keydown\", this.keydownHandler);\n  }\n\n  componentWillUnmount() {\n    window.removeEventListener(\"keydown\", this.keydownHandler);\n  }\n\n  render() {\n    let items,\n      gtin,\n      expiry,\n      expiryStr,\n      lot,\n      isInvalidBarcode = false;\n    if (this.state.barcode != null) {\n      try {\n        items = gs1.parseBarcode(this.state.barcode).parsedCodeItems;\n        console.log(\"barcode ais: \" + items.map((i) => i.ai));\n        gtin = items.find((i) => i.ai === \"01\").data;\n        expiry = items.find((i) => i.ai === \"17\").data;\n        expiryStr =\n          (\"0\" + expiry.getDate()).slice(-2) +\n          \".\" +\n          (\"0\" + (expiry.getMonth() + 1)).slice(-2) +\n          \".\" +\n          expiry.getFullYear();\n        lot = items.find((i) => i.ai === \"10\").data;\n      } catch (e) {\n        console.log(\"parseBarcode error for \" + this.state.barcode + \": \" + e);\n        isInvalidBarcode = true;\n      }\n    }\n\n    return (\n      <div>\n        <h1>Barcode</h1>\n        {!isInvalidBarcode ? (\n          <h2 id=\"valid-barcode\">{this.state.barcode}</h2>\n        ) : (\n          <h2 id=\"invalid-barcode\">Ung√ºltiger Barcode!!!</h2>\n        )}\n        <input\n          id=\"barcodeInput\"\n          autoFocus\n          onChange={this.onBarcodeInput}\n          ref={this.barcodeInputRef}\n          value={this.state.inProgressBarcode}\n        />\n        <table className=\"dataTable\" align=\"center\">\n          <thead>\n            <tr>\n              {lot != null ? <th>Lot/Charge</th> : null}\n              {expiry != null ? <th>Ablaufdatum</th> : null}\n              {gtin != null ? <th>GTIN</th> : null}\n            </tr>\n          </thead>\n          <tbody>\n            <tr>\n              <GS1DataElement name=\"Lot/Charge\" content={lot} />\n              <GS1DataElement name=\"Ablaufdatum\" content={expiryStr} />\n              <GS1DataElement name=\"GTIN\" content={gtin} />\n            </tr>\n          </tbody>\n        </table>\n        {lot != null ? (\n          <div>\n            <h2>Zertifikate:</h2>\n            <ul>\n              <li>\n                <a\n                  href={\n                    \"https://www.thermofisher.com/search/results?query=\" +\n                    lot +\n                    \"&persona=DocSupport&refinementAction=true&filter=document.result_type_s%3ACertificates\"\n                  }\n                  target=\"_blank\"\n                  rel=\"noopener noreferrer\"\n                >\n                  Thermo Fisher\n                </a>\n              </li>\n              <li>\n                <a\n                  href={\n                    \"https://resourcecenter.biomerieux.com/search/\" +\n                    lot +\n                    \"?searchMode=lotNumber\"\n                  }\n                  target=\"_blank\"\n                  rel=\"noopener noreferrer\"\n                >\n                  Biomerieux\n                </a>\n              </li>\n            </ul>\n          </div>\n        ) : null}\n        <footer>Made by Zivi for Zivi :)</footer>\n      </div>\n    );\n  }\n}\n\nconst root = createRoot(document.getElementById(\"container\"));\nroot.render(<App />);\n"],"sourceRoot":""}